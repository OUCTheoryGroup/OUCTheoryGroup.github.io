import{_ as M,r as u,e as i,c as o,f as C,w as _,g as p,b as r,I,E as m,o as t,h as f,p as N,i as B,a as h}from"./index-CQOXeGkA.js";import{a as P}from"./api-NT6E1umq.js";const v=l=>(N("data-v-22372341"),l=l(),B(),l),b={class:"container mx-auto flex flex-col items-center max-h-screen p-4 space-y-4"},S={key:1,class:"space-y-4"},E=v(()=>h("i",{class:"el-icon-upload"},null,-1)),F=v(()=>h("div",{class:"el-upload__text"},"拖拽文件到此处，或点击上传",-1)),G=v(()=>h("div",{class:"el-upload__tip"},"仅支持PNG文件",-1)),T={key:2,class:"flex items-center justify-center w-full"},U={key:0},Y={key:1,class:"text-center text-gray-500"},j={__name:"MonthlyForecastPredictView",setup(l){const e=u(null),c=u([]),a=u(!1),y=n=>{if(!["image/png"].includes(n.raw.type)){m.error("仅支持PNG文件");return}m.success("上传成功")},g=()=>{if(e.value){const n=e.value.getFullYear(),s=e.value.getMonth();P(n,s).then(d=>{c.value=d}),a.value=!0}else m.error("请选择月份")},k=()=>{a.value=!1,c.value=[],e.value=null};return(n,s)=>{const d=i("el-button"),x=i("el-upload"),w=i("el-date-picker");return t(),o("div",b,[a.value?(t(),C(d,{key:0,class:"self-start",type:"default",onClick:k},{default:_(()=>[f("返回")]),_:1})):p("",!0),a.value?p("",!0):(t(),o("div",S,[r(x,{class:"upload-demo",drag:"",action:"","auto-upload":!1,"on-change":y},{default:_(()=>[E,F,G]),_:1}),r(w,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=V=>e.value=V),type:"month",placeholder:"选择月份"},null,8,["modelValue"]),r(d,{type:"primary",onClick:g},{default:_(()=>[f("提交")]),_:1})])),a.value?(t(),o("div",T,[c.value.length?(t(),o("div",U,[r(I,{images:c.value},null,8,["images"])])):(t(),o("div",Y,"请上传图片并选择月份以查看预测结果"))])):p("",!0)])}}},z=M(j,[["__scopeId","data-v-22372341"]]);export{z as default};
