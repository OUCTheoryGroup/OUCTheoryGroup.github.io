import{r as u,c as l,e as D,w as i,f as d,b as n,_ as B,g as r,B as N,o as t,h as f,a as _,d as U}from"./index-Be3XaFZe.js";import{u as w,U as C,I as P}from"./api-DF7AwzxZ.js";import{D as b}from"./EyeOutlined-CsWVpAWc.js";const V={class:"container mx-auto flex flex-col items-center max-h-screen p-4 space-y-4"},Y={key:1,class:"space-y-4"},G={class:"ant-upload-drag-icon"},$=_("p",{class:"ant-upload-text"},"拖拽文件到此处，或点击上传",-1),I=_("p",{class:"ant-upload-hint"},"仅支持PNG文件",-1),M={key:2,class:"flex items-center justify-center w-full"},j={key:0},E={key:1,class:"text-center text-gray-500"},S={__name:"DailyForecastPredictView",setup(F){const s=u(null),c=u([]),o=u(!1),m=a=>{const e=a.type==="image/png";return e||r.error("仅支持PNG文件"),e},h=a=>{const{status:e}=a.file;e==="done"?r.success(`${a.file.name} 文件上传成功`):e==="error"&&r.error(`${a.file.name} 文件上传失败`)},v=()=>{if(s.value){const a=s.value.format("YYYY/MM/DD");w(a).then(e=>{c.value=e,o.value=!0})}else r.error("请选择日期")},g=()=>{o.value=!1,c.value=[],s.value=null};return(a,e)=>{const p=N,y=C,k=b;return t(),l("div",V,[o.value?(t(),D(p,{key:0,class:"self-start",onClick:g},{default:i(()=>[f(" 返回 ")]),_:1})):d("",!0),o.value?d("",!0):(t(),l("div",Y,[n(y,{beforeUpload:m,multiple:!1,showUploadList:!1,onChange:h},{default:i(()=>[_("p",G,[n(U(P))]),$,I]),_:1}),n(k,{value:s.value,"onUpdate:value":e[0]||(e[0]=x=>s.value=x),placeholder:"选择日期"},null,8,["value"]),n(p,{type:"primary",onClick:v},{default:i(()=>[f("提交")]),_:1})])),o.value?(t(),l("div",M,[c.value.length?(t(),l("div",j,[n(B,{images:c.value},null,8,["images"])])):(t(),l("div",E,"请上传图片并选择日期以查看预测结果"))])):d("",!0)])}}};export{S as default};
